{"version":3,"file":"fftracker.js","sourceRoot":"/js/Pages/","sources":["uc/fftracker.ts"],"names":[],"mappings":"AAAA,MAAM,OAAO,WAAW;IAEH,IAAI,GAA2B,IAAI,CAAC;IACpC,MAAM,GAA4B,IAAI,CAAC;IAExD;QAEI,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;QACpD,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACjD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;QAC7D,CAAC;IACL,CAAC;IAEO,IAAI;QAER,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YAE3B,MAAM,QAAQ,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACzC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1B,KAAK,IAAI,CAAC,GAAG,QAAQ,CAAC,QAAQ,KAAK,QAAQ,CAAC,IAAI,gBAAgB,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;gBACvH,MAAM,IAAI,GAAG,QAA4B,CAAC;gBAC1C,IAAI,IAAI,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC;oBACrB,WAAW,CAAC,kDAAkD,EAAE,SAAS,CAAC,CAAC;oBAC3E,WAAW,EAAE,CAAC;gBAClB,CAAC;qBAAM,CAAC;oBACJ,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC/C,CAAC;gBACD,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;oBACd,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBAC9B,CAAC;YACL,CAAC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;CACJ","sourcesContent":["export class EditFFLinks\r\n{\r\n    private readonly form: HTMLFormElement | null = null;\r\n    private readonly button: HTMLInputElement | null = null;\r\n\r\n    public constructor()\r\n    {\r\n        this.form = document.querySelector('#ff_link_user');\r\n        if (this.form) {\r\n            submitIntercept(this.form, this.link.bind(this));\r\n            this.button = this.form.querySelector('#ff_link_submit');\r\n        }\r\n    }\r\n    \r\n    private link(): void\r\n    {\r\n        if (this.form && this.button) {\r\n            //Get form data\r\n            const formData = new FormData(this.form);\r\n            buttonToggle(this.button);\r\n            void ajax(`${location.protocol}//${location.host}/api/uc/fflink`, formData, 'json', 'POST', 60000, true).then((response) => {\r\n                const data = response as ajaxJSONResponse;\r\n                if (data.data === true) {\r\n                    addSnackbar('Character linked successfully. Reloading page...', 'success');\r\n                    pageRefresh();\r\n                } else {\r\n                    addSnackbar(data.reason, 'failure', 10000);\r\n                }\r\n                if (this.button) {\r\n                    buttonToggle(this.button);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n"]}