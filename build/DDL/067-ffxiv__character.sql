USE `simbiatr_simbiat`;
CREATE TABLE IF NOT EXISTS `ffxiv__character` (
  `character_id` int(10) unsigned NOT NULL COMMENT 'Character ID taken from Lodestone URL (https://eu.finalfantasyxiv.com/lodestone/character/characterid/)',
  `server_id` tinyint(2) unsigned DEFAULT NULL COMMENT 'ID of the server character resides on',
  `name` varchar(50) NOT NULL COMMENT 'Character''s name',
  `avatar` varchar(66) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_as_ci NOT NULL COMMENT 'ID portion of the link to character avatar (requires adding of ''l0.jpg'' or ''c0.jpg'' to the end of the field and ''https://img2.finalfantasyxiv.com/f/'' to the beginning to be turned into actual image link)',
  `registered` date NOT NULL DEFAULT current_timestamp() COMMENT 'When character was initially added to tracker',
  `updated` datetime(6) NOT NULL DEFAULT current_timestamp(6) ON UPDATE current_timestamp(6) COMMENT 'When character was last updated on the tracker',
  `hidden` date DEFAULT NULL COMMENT 'Date when profile was marked as private on Lodestone',
  `deleted` date DEFAULT NULL COMMENT 'Date when character was marked as deleted',
  `biography` text CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT 'Text from "Character profile" section on Lodestone',
  `title_id` smallint(5) unsigned DEFAULT NULL COMMENT 'ID of achievement title currently being used by character',
  `clan_id` tinyint(2) unsigned DEFAULT NULL COMMENT 'Clan ID identifying both clan and race of the character',
  `gender` tinyint(1) unsigned NOT NULL DEFAULT 1 COMMENT '0 for female and 1 for male',
  `nameday_id` smallint(3) unsigned NOT NULL DEFAULT 1 COMMENT 'ID of nameday (birthday) of character',
  `guardian_id` tinyint(2) unsigned NOT NULL DEFAULT 4 COMMENT 'ID of Guardian chosen by character',
  `city_id` tinyint(1) unsigned NOT NULL DEFAULT 5 COMMENT 'ID of character''s starting city',
  `gc_rank_id` tinyint(2) unsigned DEFAULT NULL COMMENT 'ID of character''s Grand Company''s affiliation and current rank there',
  `pvp_matches` int(10) DEFAULT 0 COMMENT 'Number of PvP matches character participated in',
  `achievement_points` int(10) unsigned NOT NULL DEFAULT 0 COMMENT 'Total sum of achievement points',
  PRIMARY KEY (`character_id`) USING BTREE,
  KEY `clanid` (`clan_id`),
  KEY `guardianid` (`guardian_id`),
  KEY `namedayid` (`nameday_id`),
  KEY `cityid` (`city_id`),
  KEY `serverid` (`server_id`),
  KEY `gcrankid` (`gc_rank_id`),
  KEY `titleid` (`title_id`),
  KEY `registered` (`registered`),
  KEY `deleted` (`deleted`),
  KEY `name_order` (`name`),
  KEY `updated` (`updated` DESC),
  KEY `achievement_points` (`achievement_points` DESC),
  KEY `privated` (`hidden`) USING BTREE,
  FULLTEXT KEY `name` (`name`),
  FULLTEXT KEY `biography` (`biography`),
  CONSTRAINT `cityid` FOREIGN KEY (`city_id`) REFERENCES `ffxiv__city` (`city_id`) ON UPDATE CASCADE,
  CONSTRAINT `clanid` FOREIGN KEY (`clan_id`) REFERENCES `ffxiv__clan` (`clan_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `gcrankid` FOREIGN KEY (`gc_rank_id`) REFERENCES `ffxiv__grandcompany_rank` (`gc_rank_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `guardianid` FOREIGN KEY (`guardian_id`) REFERENCES `ffxiv__guardian` (`guardian_id`) ON UPDATE CASCADE,
  CONSTRAINT `namedayid` FOREIGN KEY (`nameday_id`) REFERENCES `ffxiv__nameday` (`nameday_id`) ON UPDATE CASCADE,
  CONSTRAINT `serverid` FOREIGN KEY (`server_id`) REFERENCES `ffxiv__server` (`server_id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `titleid` FOREIGN KEY (`title_id`) REFERENCES `ffxiv__achievement` (`achievement_id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_as_cs ROW_FORMAT=DYNAMIC COMMENT='Characters found on Lodestone' `PAGE_COMPRESSED`='ON';