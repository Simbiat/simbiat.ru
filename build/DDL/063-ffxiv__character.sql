CREATE TABLE IF NOT EXISTS `ffxiv__character` (
  `characterid` int(10) unsigned NOT NULL COMMENT 'Character ID taken from Lodestone URL (https://eu.finalfantasyxiv.com/lodestone/character/characterid/)',
  `userid` int(10) unsigned DEFAULT NULL COMMENT 'ID of the user, that is linked to the character',
  `serverid` tinyint(2) unsigned DEFAULT NULL COMMENT 'ID of the server character resides on',
  `name` varchar(50) NOT NULL COMMENT 'Character''s name',
  `avatar` varchar(66) CHARACTER SET utf8mb4 COLLATE utf8mb4_uca1400_nopad_as_ci NOT NULL COMMENT 'ID portion of the link to character avatar (requires adding of ''l0.jpg'' or ''c0.jpg'' to the end of the field and ''https://img2.finalfantasyxiv.com/f/'' to the beginning to be turned into actual image link)',
  `registered` date NOT NULL DEFAULT current_timestamp() COMMENT 'When character was initially added to tracker',
  `updated` datetime(6) NOT NULL DEFAULT current_timestamp(6) ON UPDATE current_timestamp(6) COMMENT 'When character was last updated on the tracker',
  `privated` date DEFAULT NULL COMMENT 'Date when profile was marked as private on Lodestone',
  `deleted` date DEFAULT NULL COMMENT 'Date when character was marked as deleted',
  `biography` text CHARACTER SET utf8mb4 COLLATE utf8mb4_uca1400_nopad_ai_ci DEFAULT NULL COMMENT 'Text from "Character profile" section on Lodestone',
  `titleid` smallint(5) unsigned DEFAULT NULL COMMENT 'ID of achievement title currently being used by character',
  `clanid` tinyint(2) unsigned DEFAULT NULL COMMENT 'Clan ID identifying both clan and race of the character',
  `genderid` tinyint(1) unsigned NOT NULL DEFAULT 1 COMMENT '0 for female and 1 for male',
  `namedayid` smallint(3) unsigned NOT NULL DEFAULT 1 COMMENT 'ID of nameday (birthday) of character',
  `guardianid` tinyint(2) unsigned NOT NULL DEFAULT 4 COMMENT 'ID of Guardian chosen by character',
  `cityid` tinyint(1) unsigned NOT NULL DEFAULT 5 COMMENT 'ID of character''s starting city',
  `gcrankid` tinyint(2) unsigned DEFAULT NULL COMMENT 'ID of character''s Grand Company''s affiliation and current rank there',
  `pvp_matches` int(10) DEFAULT 0 COMMENT 'Number of PvP matches character participated in',
  `achievement_points` int(10) unsigned NOT NULL DEFAULT 0 COMMENT 'Total sum of achievement points',
  PRIMARY KEY (`characterid`) USING BTREE,
  KEY `clanid` (`clanid`),
  KEY `guardianid` (`guardianid`),
  KEY `namedayid` (`namedayid`),
  KEY `cityid` (`cityid`),
  KEY `serverid` (`serverid`),
  KEY `gcrankid` (`gcrankid`),
  KEY `titleid` (`titleid`),
  KEY `registered` (`registered`),
  KEY `deleted` (`deleted`),
  KEY `name_order` (`name`),
  KEY `updated` (`updated` DESC),
  KEY `userid` (`userid`),
  KEY `achievement_points` (`achievement_points` DESC),
  KEY `privated` (`privated`) USING BTREE,
  FULLTEXT KEY `name` (`name`),
  FULLTEXT KEY `biography` (`biography`),
  CONSTRAINT `cityid` FOREIGN KEY (`cityid`) REFERENCES `ffxiv__city` (`cityid`) ON UPDATE CASCADE,
  CONSTRAINT `clanid` FOREIGN KEY (`clanid`) REFERENCES `ffxiv__clan` (`clanid`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `gcrankid` FOREIGN KEY (`gcrankid`) REFERENCES `ffxiv__grandcompany_rank` (`gcrankid`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `guardianid` FOREIGN KEY (`guardianid`) REFERENCES `ffxiv__guardian` (`guardianid`) ON UPDATE CASCADE,
  CONSTRAINT `namedayid` FOREIGN KEY (`namedayid`) REFERENCES `ffxiv__nameday` (`namedayid`) ON UPDATE CASCADE,
  CONSTRAINT `serverid` FOREIGN KEY (`serverid`) REFERENCES `ffxiv__server` (`serverid`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `titleid` FOREIGN KEY (`titleid`) REFERENCES `ffxiv__achievement` (`achievementid`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `userid` FOREIGN KEY (`userid`) REFERENCES `uc__users` (`userid`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_uca1400_nopad_as_cs ROW_FORMAT=DYNAMIC COMMENT='Characters found on Lodestone' `PAGE_COMPRESSED`='ON';